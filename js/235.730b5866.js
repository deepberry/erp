"use strict";(self["webpackChunktitan2"]=self["webpackChunktitan2"]||[]).push([[235],{1235:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});var r=i(6252),l=i(3577);const a={class:"StatistiProduct"},n={class:"head"},s=(0,r.Uk)("查询"),u=(0,r.Uk)("工时统计"),o={class:"table"};function m(t,e,i,m,h,d){const g=(0,r.up)("el-input"),p=(0,r.up)("el-button"),c=(0,r.up)("el-table-column"),w=(0,r.up)("el-table"),y=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",n,[(0,r._)("div",null,[(0,r.Wm)(g,{style:{width:"300px"},modelValue:h.searchKey,"onUpdate:modelValue":e[0]||(e[0]=t=>h.searchKey=t),placeholder:"关键字搜索：农资类型、农资名称"},null,8,["modelValue"]),(0,r.Wm)(p,{type:"primary",style:{"margin-left":"10px"},onClick:d.getData},{default:(0,r.w5)((()=>[s])),_:1},8,["onClick"])]),(0,r._)("div",null,[(0,r.Wm)(p,{type:"success",style:{"margin-left":"10px"},onClick:e[1]||(e[1]=e=>t.$router.push("/erp/my/workTime"))},{default:(0,r.w5)((()=>[u])),_:1})])]),(0,r._)("div",o,[(0,r.wy)(((0,r.wg)(),(0,r.j4)(w,{size:"large",data:h.list,style:{width:"100%"},"max-height":"600"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{prop:"workTime",label:"时间"}),(0,r.Wm)(c,{prop:"title",label:"农事类型"}),(0,r.Wm)(c,{label:"农资名称"},{default:(0,r.w5)((t=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.row.farmUseBos,(t=>((0,r.wg)(),(0,r.iD)("p",{key:t.id},(0,l.zw)(t.agricultural),1)))),128))])),_:1}),(0,r.Wm)(c,{label:"农资数量"},{default:(0,r.w5)((t=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.row.farmUseBos,(t=>((0,r.wg)(),(0,r.iD)("p",{key:t.id},(0,l.zw)(t.agriculturalCount)+(0,l.zw)(t.agriculturalUnit),1)))),128))])),_:1}),(0,r.Wm)(c,{prop:"gardenName",label:"实施棚区"}),(0,r.Wm)(c,{prop:"userName",label:"实施人"}),(0,r.Wm)(c,{prop:"workHour",label:"工时数"})])),_:1},8,["data"])),[[y,h.loading]])])])}var h=i(2335),d={name:"StatistiProduct",data(){return{list:[],currentPage:1,total:0,searchKey:"",loading:!1}},mounted(){this.getData()},methods:{getData(){this.loading=!0,this.ajax.post("/api/v1/adam/farm/getMyWorkTime",{pageSize:10,pageNum:this.currentPage,endTime:"",keyWord:this.searchKey,startTime:""}).then((t=>{this.loading=!1,200==t.code&&(this.list=t.data.map((t=>(t.workTime=h.Z.time("y-m-d h:i:s",t.workTime),t))),this.total=this.list.length)}))}}},g=i(8118);const p=(0,g.Z)(d,[["render",m],["__scopeId","data-v-7d96d766"]]);var c=p},2335:function(t,e){const i={to2:t=>Number(t)<10?`0${Number(t)}`:String(t),time(t="y-m-d",e=null){let i=e?new Date(e):new Date;return t=t.replace("y",i.getFullYear()),t=t.replace("m",this.to2(i.getMonth()+1)),t=t.replace("d",this.to2(i.getDate())),t=t.replace("h",this.to2(i.getHours())),t=t.replace("i",this.to2(i.getMinutes())),t=t.replace("s",this.to2(i.getSeconds())),t=t.replace("w",i.getDay()),t},monthLength(t=null){let e=1*this.time("y",t),i=this.to2(1*this.time("m",t)+1);if(13==i)return 31;{let t=new Date(`${e}-${i}-01`).getTime()-864e5;return Number(this.time("d",t))}},preMonthLenggth(t=null){let e=1*this.time("y",t),i=this.to2(1*this.time("m",t)),r=new Date(`${e}-${i}-01`).getTime()-864e5;return Number(this.time("d",r))},nextMonthLenggth(t=null){let e=1*this.time("y",t),i=this.to2(1*this.time("m",t)+2),r=new Date(`${e}-${i}-01`).getTime()-864e5;return Number(this.time("d",r))},monthFirst(t=null){let e=this.time("y-m",t)+"-01";return this.time("y-m-d",e)},monthLast(t=null){let e=1*this.time("y",t),i=this.to2(1*this.time("m",t)+1),r=new Date(`${e}-${i}-01`).getTime()-864e5;return this.time("y-m-d",r)},preMonthToday(t=null){let e=Number(t.substr(0,4)),i=Number(t.substr(5,2)),r=Number(t.substr(8));return r>this.preMonthLenggth(`{y}-${i}-01`)&&(r=this.preMonthLenggth(`{y}-${i}-01`)),1==i?(e-=1,i=12):i-=1,`${e}-${i}-${r}`},nextMonthToday(t=null){let e=Number(t.substr(0,4)),i=Number(t.substr(5,2)),r=Number(t.substr(8));return r>this.nextMonthLenggth(`{y}-${i}-01`)&&(r=this.nextMonthLenggth(`{y}-${i}-01`)),12==i?(e+=1,i=1):i+=1,`${e}-${i}-${r}`},timeout(t){},timeRemaining(t,e){return e-=parseInt((new Date).getTime()/1e3),this.unixToString(t,e)},unixToString(t,e){let r=parseInt(e/60/60/24),l=parseInt((e-86400*r)/3600),a=parseInt((e-86400*r-3600*l)/60),n=e-86400*r-3600*l-60*a;return t=t.replace("d",i.to2(i.low(r))),t=t.replace("h",i.to2(i.low(l))),t=t.replace("i",i.to2(i.low(a))),t=t.replace("s",i.to2(i.low(n))),t},low(t){return t<0?0:t},parse(t){return new Date(t)}};e["Z"]=i}}]);
//# sourceMappingURL=235.730b5866.js.map