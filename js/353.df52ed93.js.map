{"version":3,"file":"js/353.df52ed93.js","mappings":"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","sources":["webpack://titan2/./src/components/my/MyWork.vue","webpack://titan2/./src/components/my/MyWork.vue?a926","webpack://titan2/./src/utils/timer.js"],"sourcesContent":["<template>\n    <div class=\"StatisticsProduct\">\n        <div class=\"head\">\n            <div>\n                <el-input style=\"width: 300px\" v-model=\"searchKey\" placeholder=\"关键字搜索：农资类型、农资名称\" />\n                <el-button type=\"primary\" style=\"margin-left: 10px\" @click=\"getData\">查询</el-button>\n            </div>\n            <div>\n                <el-button type=\"success\" style=\"margin-left: 10px\" @click=\"$router.push('/erp/my/workTime')\"\n                    >工时统计</el-button\n                >\n            </div>\n        </div>\n        <div class=\"table\">\n            <el-table size=\"large\" :data=\"list\" style=\"width: 100%\" max-height=\"600\" v-loading=\"loading\">\n                <el-table-column prop=\"workTime\" label=\"时间\" />\n                <el-table-column prop=\"title\" label=\"农事类型\" />\n                <el-table-column label=\"农资名称\">\n                    <template #default=\"scope\">\n                        <p v-for=\"item in scope.row.farmUseBos\" :key=\"item.id\">{{ item.agricultural }}</p>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"农资数量\">\n                    <template #default=\"scope\">\n                        <p v-for=\"item in scope.row.farmUseBos\" :key=\"item.id\">\n                            {{ item.agriculturalCount }}{{ item.agriculturalUnit }}\n                        </p>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"实施棚区\">\n                    <template #default=\"scope\"> {{ scope.row.gardenName }}-{{ scope.row.address }} </template>\n                </el-table-column>\n                <el-table-column prop=\"userName\" label=\"实施人\" />\n                <el-table-column prop=\"workHour\" label=\"工时数\" />\n            </el-table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport timer from \"@/utils/timer\";\nexport default {\n    name: \"StatisticsProduct\",\n    data() {\n        return {\n            list: [],\n            currentPage: 1,\n            total: 0,\n            searchKey: \"\",\n            loading: false,\n        };\n    },\n    mounted() {\n        this.getData();\n    },\n    methods: {\n        // 获取数据\n        getData() {\n            this.loading = true;\n            this.ajax\n                .post(\"/api/v1/adam/farm/getMyWorkTime\", {\n                    pageSize: 10,\n                    pageNum: this.currentPage,\n                    endTime: \"\",\n                    keyWord: this.searchKey,\n                    startTime: \"\",\n                })\n                .then((r) => {\n                    this.loading = false;\n                    if (r.code == 200) {\n                        this.list = r.data.map((item) => {\n                            item.workTime = timer.time(\"y-m-d\", item.workTime);\n                            return item;\n                        });\n                        this.total = this.list.length;\n                    }\n                });\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.StatisticsProduct {\n    .head {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 20px 0;\n    }\n    .pages {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: 30px 0;\n        .total {\n            color: #a0a0a0;\n            margin-right: 10px;\n        }\n    }\n}\n</style>\n","import { render } from \"./MyWork.vue?vue&type=template&id=78579428&scoped=true\"\nimport script from \"./MyWork.vue?vue&type=script&lang=js\"\nexport * from \"./MyWork.vue?vue&type=script&lang=js\"\n\nimport \"./MyWork.vue?vue&type=style&index=0&id=78579428&lang=less&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/erp/erp/node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78579428\"]])\n\nexport default __exports__","/**\n * 时间插件\n */\n\nconst timer = {\n    // 小于10的数字前面补0\n    to2: (number) => (Number(number) < 10 ? `0${Number(number)}` : String(number)),\n\n    // 获取指定时间\n    time(format = \"y-m-d\", time = null) {\n        let date = time ? new Date(time) : new Date();\n        format = format.replace(\"y\", date.getFullYear());\n        format = format.replace(\"m\", this.to2(date.getMonth() + 1));\n        format = format.replace(\"d\", this.to2(date.getDate()));\n        format = format.replace(\"h\", this.to2(date.getHours()));\n        format = format.replace(\"i\", this.to2(date.getMinutes()));\n        format = format.replace(\"s\", this.to2(date.getSeconds()));\n        format = format.replace(\"w\", date.getDay());\n        return format;\n    },\n\n    // 获取当前月份有多少天\n    monthLength(time = null) {\n        let y = this.time(\"y\", time) * 1;\n        let m = this.to2(this.time(\"m\", time) * 1 + 1);\n        if (m == 13) {\n            return 31;\n        } else {\n            let unix = new Date(`${y}-${m}-01`).getTime() - 24 * 60 * 60 * 1000;\n            return Number(this.time(\"d\", unix));\n        }\n    },\n\n    // 获取上个月有多少天\n    preMonthLenggth(time = null) {\n        let y = this.time(\"y\", time) * 1;\n        let m = this.to2(this.time(\"m\", time) * 1);\n        let unix = new Date(`${y}-${m}-01`).getTime() - 24 * 60 * 60 * 1000;\n        return Number(this.time(\"d\", unix));\n    },\n\n    // 获取下个月有多少天\n    nextMonthLenggth(time = null) {\n        let y = this.time(\"y\", time) * 1;\n        let m = this.to2(this.time(\"m\", time) * 1 + 2);\n        let unix = new Date(`${y}-${m}-01`).getTime() - 24 * 60 * 60 * 1000;\n        return Number(this.time(\"d\", unix));\n    },\n\n    // 获取当月第一天\n    monthFirst(time = null) {\n        let unix = this.time(\"y-m\", time) + \"-01\";\n        return this.time(\"y-m-d\", unix);\n    },\n\n    // 获取当月最后一天\n    monthLast(time = null) {\n        let y = this.time(\"y\", time) * 1;\n        let m = this.to2(this.time(\"m\", time) * 1 + 1);\n        let unix = new Date(`${y}-${m}-01`).getTime() - 24 * 60 * 60 * 1000;\n        return this.time(\"y-m-d\", unix);\n    },\n\n    // 获取上个月的今天\n    preMonthToday(time = null) {\n        let y = Number(time.substr(0, 4));\n        let m = Number(time.substr(5, 2));\n        let d = Number(time.substr(8));\n\n        if (d > this.preMonthLenggth(`{y}-${m}-01`)) {\n            d = this.preMonthLenggth(`{y}-${m}-01`);\n        }\n\n        if (m == 1) {\n            y = y - 1;\n            m = 12;\n        } else {\n            m = m - 1;\n        }\n\n        return `${y}-${m}-${d}`;\n    },\n\n    // 获取下个月的今天\n    nextMonthToday(time = null) {\n        let y = Number(time.substr(0, 4));\n        let m = Number(time.substr(5, 2));\n        let d = Number(time.substr(8));\n\n        if (d > this.nextMonthLenggth(`{y}-${m}-01`)) {\n            d = this.nextMonthLenggth(`{y}-${m}-01`);\n        }\n\n        if (m == 12) {\n            y = y + 1;\n            m = 1;\n        } else {\n            m = m + 1;\n        }\n\n        return `${y}-${m}-${d}`;\n    },\n\n    // 已经过去了多少时间\n    timeout(time) {},\n\n    // 倒计时\n    timeRemaining(format, time) {\n        time = time - parseInt(new Date().getTime() / 1000);\n        return this.unixToString(format, time);\n    },\n\n    // 时间戳的差值转化为时间字符串\n    unixToString(format, time) {\n        let d = parseInt(time / 60 / 60 / 24);\n        let h = parseInt((time - d * 86400) / 3600);\n        let i = parseInt((time - d * 86400 - h * 3600) / 60);\n        let s = time - d * 86400 - h * 3600 - i * 60;\n        format = format.replace(\"d\", timer.to2(timer.low(d)));\n        format = format.replace(\"h\", timer.to2(timer.low(h)));\n        format = format.replace(\"i\", timer.to2(timer.low(i)));\n        format = format.replace(\"s\", timer.to2(timer.low(s)));\n        return format;\n    },\n\n    // 小于0的直接输出0\n    low(num) {\n        return num < 0 ? 0 : num;\n    },\n\n    // 把日期转成对象\n    parse(string) {\n        return new Date(string);\n    },\n};\n\nexport default timer;\n"],"names":["class","_createElementBlock","_createElementVNode","_createVNode","_component_el_input","style","$data","$event","placeholder","_component_el_button","type","onClick","$options","_ctx","push","_createBlock","_component_el_table","size","data","_component_el_table_column","prop","label","default","scope","_Fragment","_renderList","row","farmUseBos","item","key","id","agricultural","agriculturalCount","_toDisplayString","agriculturalUnit","gardenName","address","name","list","currentPage","total","searchKey","loading","mounted","this","getData","methods","ajax","post","pageSize","pageNum","endTime","keyWord","startTime","then","r","code","map","workTime","timer","length","__exports__","render","to2","number","Number","String","time","format","date","Date","replace","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","monthLength","y","m","unix","getTime","preMonthLenggth","nextMonthLenggth","monthFirst","monthLast","preMonthToday","substr","d","nextMonthToday","timeout","timeRemaining","parseInt","unixToString","h","i","s","low","num","parse","string"],"sourceRoot":""}