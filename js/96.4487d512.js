"use strict";(self["webpackChunktitan2"]=self["webpackChunktitan2"]||[]).push([[96],{3096:function(t,e,r){r.r(e),r.d(e,{default:function(){return c}});var i=r(6252),l=r(3577);const a={class:"StatisticsProduct"},n={class:"head"},s=(0,i.Uk)("查询"),u=(0,i.Uk)("工时统计"),o={class:"table"};function m(t,e,r,m,h,d){const g=(0,i.up)("el-input"),p=(0,i.up)("el-button"),c=(0,i.up)("el-table-column"),w=(0,i.up)("el-table"),y=(0,i.Q2)("loading");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",n,[(0,i._)("div",null,[(0,i.Wm)(g,{style:{width:"300px"},modelValue:h.searchKey,"onUpdate:modelValue":e[0]||(e[0]=t=>h.searchKey=t),placeholder:"关键字搜索：农资类型、农资名称"},null,8,["modelValue"]),(0,i.Wm)(p,{type:"primary",style:{"margin-left":"10px"},onClick:d.getData},{default:(0,i.w5)((()=>[s])),_:1},8,["onClick"])]),(0,i._)("div",null,[(0,i.Wm)(p,{type:"success",style:{"margin-left":"10px"},onClick:e[1]||(e[1]=e=>t.$router.push("/erp/my/workTime"))},{default:(0,i.w5)((()=>[u])),_:1})])]),(0,i._)("div",o,[(0,i.wy)(((0,i.wg)(),(0,i.j4)(w,{size:"large",data:h.list,style:{width:"100%"},"max-height":"600"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{prop:"workTime",label:"时间"}),(0,i.Wm)(c,{prop:"title",label:"农事类型"}),(0,i.Wm)(c,{label:"农资名称"},{default:(0,i.w5)((t=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.row.farmUseBos,(t=>((0,i.wg)(),(0,i.iD)("p",{key:t.id},(0,l.zw)(t.agricultural),1)))),128))])),_:1}),(0,i.Wm)(c,{label:"农资数量"},{default:(0,i.w5)((t=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.row.farmUseBos,(t=>((0,i.wg)(),(0,i.iD)("p",{key:t.id},(0,l.zw)(t.agriculturalCount)+(0,l.zw)(t.agriculturalUnit),1)))),128))])),_:1}),(0,i.Wm)(c,{label:"实施棚区"},{default:(0,i.w5)((t=>[(0,i.Uk)((0,l.zw)(t.row.gardenName)+"-"+(0,l.zw)(t.row.address),1)])),_:1}),(0,i.Wm)(c,{prop:"userName",label:"实施人"}),(0,i.Wm)(c,{label:"工时数"},{default:(0,i.w5)((t=>[(0,i.Uk)((0,l.zw)(t.row.workHour||0),1)])),_:1})])),_:1},8,["data"])),[[y,h.loading]])])])}var h=r(2335),d={name:"StatisticsProduct",data(){return{list:[],currentPage:1,total:0,searchKey:"",loading:!1}},mounted(){this.getData()},methods:{getData(){this.loading=!0,this.ajax.post("/api/v1/adam/farm/getMyWorkTime",{pageSize:10,pageNum:this.currentPage,endTime:"",keyWord:this.searchKey,startTime:""}).then((t=>{this.loading=!1,200==t.code&&(this.list=t.data.map((t=>(t.workTime=h.Z.time("y-m-d",t.workTime),t))),this.total=this.list.length)}))}}},g=r(8118);const p=(0,g.Z)(d,[["render",m],["__scopeId","data-v-2b4cfdd9"]]);var c=p},2335:function(t,e){const r={to2:t=>Number(t)<10?`0${Number(t)}`:String(t),time(t="y-m-d",e=null){let r=e?new Date(e):new Date;return t=t.replace("y",r.getFullYear()),t=t.replace("m",this.to2(r.getMonth()+1)),t=t.replace("d",this.to2(r.getDate())),t=t.replace("h",this.to2(r.getHours())),t=t.replace("i",this.to2(r.getMinutes())),t=t.replace("s",this.to2(r.getSeconds())),t=t.replace("w",r.getDay()),t},monthLength(t=null){let e=1*this.time("y",t),r=this.to2(1*this.time("m",t)+1);if(13==r)return 31;{let t=new Date(`${e}-${r}-01`).getTime()-864e5;return Number(this.time("d",t))}},preMonthLenggth(t=null){let e=1*this.time("y",t),r=this.to2(1*this.time("m",t)),i=new Date(`${e}-${r}-01`).getTime()-864e5;return Number(this.time("d",i))},nextMonthLenggth(t=null){let e=1*this.time("y",t),r=this.to2(1*this.time("m",t)+2),i=new Date(`${e}-${r}-01`).getTime()-864e5;return Number(this.time("d",i))},monthFirst(t=null){let e=this.time("y-m",t)+"-01";return this.time("y-m-d",e)},monthLast(t=null){let e=1*this.time("y",t),r=this.to2(1*this.time("m",t)+1),i=new Date(`${e}-${r}-01`).getTime()-864e5;return this.time("y-m-d",i)},preMonthToday(t=null){let e=Number(t.substr(0,4)),r=Number(t.substr(5,2)),i=Number(t.substr(8));return i>this.preMonthLenggth(`{y}-${r}-01`)&&(i=this.preMonthLenggth(`{y}-${r}-01`)),1==r?(e-=1,r=12):r-=1,`${e}-${r}-${i}`},nextMonthToday(t=null){let e=Number(t.substr(0,4)),r=Number(t.substr(5,2)),i=Number(t.substr(8));return i>this.nextMonthLenggth(`{y}-${r}-01`)&&(i=this.nextMonthLenggth(`{y}-${r}-01`)),12==r?(e+=1,r=1):r+=1,`${e}-${r}-${i}`},timeout(t){},timeRemaining(t,e){return e-=parseInt((new Date).getTime()/1e3),this.unixToString(t,e)},unixToString(t,e){let i=parseInt(e/60/60/24),l=parseInt((e-86400*i)/3600),a=parseInt((e-86400*i-3600*l)/60),n=e-86400*i-3600*l-60*a;return t=t.replace("d",r.to2(r.low(i))),t=t.replace("h",r.to2(r.low(l))),t=t.replace("i",r.to2(r.low(a))),t=t.replace("s",r.to2(r.low(n))),t},low(t){return t<0?0:t},parse(t){return new Date(t)}};e["Z"]=r}}]);
//# sourceMappingURL=96.4487d512.js.map