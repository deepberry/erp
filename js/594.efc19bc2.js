"use strict";(self["webpackChunktitan2"]=self["webpackChunktitan2"]||[]).push([[594],{2594:function(t,e,a){a.r(e),a.d(e,{default:function(){return S}});var r=a(6252),l=a(3577);const n=t=>((0,r.dD)("data-v-b9f55f16"),t=t(),(0,r.Cn)(),t),i={class:"stockPut inner"},s={class:"box"},o={class:"head"},u=n((()=>(0,r._)("i",{class:"erp erpfanhui",style:{"font-size":"14px","margin-right":"5px",position:"relative",top:"-1px"}},null,-1))),p=(0,r.Uk)(" 返回"),g=n((()=>(0,r._)("span",{style:{position:"relative",top:"2px","font-size":"15px"}},"申领记录",-1))),h={class:"content"},m={class:"StatistiProduct"},d={class:"head"},c=(0,r.Uk)("查询"),w={class:"table"},b={key:0,class:"pages"},y={class:"total"};function k(t,e){const a=(0,r.up)("el-button"),n=(0,r.up)("el-input"),k=(0,r.up)("el-option"),D=(0,r.up)("el-select"),v=(0,r.up)("el-table-column"),f=(0,r.up)("el-table"),S=(0,r.up)("el-pagination"),$=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",s,[(0,r._)("div",o,[(0,r.Wm)(a,{link:"",type:"primary",onClick:t.back},{default:(0,r.w5)((()=>[u,p])),_:1},8,["onClick"]),g]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("div",m,[(0,r._)("div",d,[(0,r.Wm)(n,{style:{width:"300px"},modelValue:t.searchKey,"onUpdate:modelValue":e[0]||(e[0]=e=>t.searchKey=e),placeholder:"关键字搜索：农资类型、农资名称"},null,8,["modelValue"]),(0,r.Wm)(a,{type:"primary",style:{"margin-left":"10px"},onClick:t.getData},{default:(0,r.w5)((()=>[c])),_:1},8,["onClick"]),(0,r.Wm)(D,{onChange:t.getData,modelValue:t.currentStatus,"onUpdate:modelValue":e[1]||(e[1]=e=>t.currentStatus=e),placeholder:"全部状态",style:{"margin-left":"20px"}},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.status,(t=>((0,r.wg)(),(0,r.j4)(k,{key:t.v,label:t.k,value:t.v},null,8,["label","value"])))),128))])),_:1},8,["onChange","modelValue"])]),(0,r._)("div",w,[(0,r.Wm)(f,{size:"large",data:t.list,style:{width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{prop:"orderUuid",label:"工单号",width:"150"}),(0,r.Wm)(v,{label:"农资名称"},{default:(0,r.w5)((t=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.row.totalCount,(t=>((0,r.wg)(),(0,r.iD)("p",{key:t.id},(0,l.zw)(t.title),1)))),128))])),_:1}),(0,r.Wm)(v,{label:"农资类型"},{default:(0,r.w5)((t=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.row.totalCount,(t=>((0,r.wg)(),(0,r.iD)("p",{key:t.id},(0,l.zw)(t.variety),1)))),128))])),_:1}),(0,r.Wm)(v,{label:"数量"},{default:(0,r.w5)((t=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.row.totalCount,(t=>((0,r.wg)(),(0,r.iD)("p",{key:t.id},(0,l.zw)(t.agriculturalCos)+(0,l.zw)(t.unitweight),1)))),128))])),_:1}),(0,r.Wm)(v,{prop:"createTime",label:"申请日期"}),(0,r.Wm)(v,{label:"状态"},{default:(0,r.w5)((t=>[(0,r._)("span",{style:(0,l.j5)({color:t.row.color})},(0,l.zw)(t.row.orderStatusString),5)])),_:1}),(0,r.Wm)(v,{prop:"userName",label:"当前审批人"})])),_:1},8,["data"])]),t.list.length>0?((0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("span",y,"共 "+(0,l.zw)(t.total)+" 条",1),(0,r.Wm)(S,{onCurrentChange:t.getData,currentPage:t.currentPage,"onUpdate:currentPage":e[2]||(e[2]=e=>t.currentPage=e),"page-size":t.pageSize,"onUpdate:page-size":e[3]||(e[3]=e=>t.pageSize=e),background:"",layout:"prev, pager, next, jumper",total:t.total},null,8,["onCurrentChange","currentPage","page-size","total"])])):(0,r.kq)("",!0)])])),[[$,t.loading]])])])}a(2335);var D={name:"stockPut",props:["id"],data(){return{loading:!1,searchKey:"",status:[{k:"全部状态",v:-1},{k:"待审核",v:0},{k:"待出库",v:1},{k:"不通过",v:2},{k:"已出库",v:3}],currentStatus:-1,list:[],currentPage:1,pageSize:10,total:0}},mounted(){this.getData()},methods:{getData(){this.loading=!0,this.ajax.post("/api/v1/adam/workOrder/my-workOrder-list",{pageNum:this.currentPage,pageSize:10,param:{keyWord:this.searchKey,orderStatus:this.currentStatus}}).then((t=>{this.loading=!1,200==t.code?(this.list=t.data.map((t=>{switch(t.orderStatus){case 0:t.orderStatusString="待审核",t.color="#1890FF";break;case 1:t.orderStatusString="待出库",t.color="#0DD71C";break;case 2:t.orderStatusString="不通过",t.color="#FF4949";break;case 3:t.orderStatusString="已出库",t.color="#A8A8A8";break}return t})),this.total=t.total):this.$message.error(t.message)}))},back(){this.$router.push("/erp/my/product")}}},v=a(8118);const f=(0,v.Z)(D,[["render",k],["__scopeId","data-v-b9f55f16"]]);var S=f},2335:function(t,e){const a={to2:t=>Number(t)<10?`0${Number(t)}`:String(t),time(t="y-m-d",e=null){let a=e?new Date(e):new Date;return t=t.replace("y",a.getFullYear()),t=t.replace("m",this.to2(a.getMonth()+1)),t=t.replace("d",this.to2(a.getDate())),t=t.replace("h",this.to2(a.getHours())),t=t.replace("i",this.to2(a.getMinutes())),t=t.replace("s",this.to2(a.getSeconds())),t=t.replace("w",a.getDay()),t},monthLength(t=null){let e=1*this.time("y",t),a=this.to2(1*this.time("m",t)+1);if(13==a)return 31;{let t=new Date(`${e}-${a}-01`).getTime()-864e5;return Number(this.time("d",t))}},preMonthLenggth(t=null){let e=1*this.time("y",t),a=this.to2(1*this.time("m",t)),r=new Date(`${e}-${a}-01`).getTime()-864e5;return Number(this.time("d",r))},nextMonthLenggth(t=null){let e=1*this.time("y",t),a=this.to2(1*this.time("m",t)+2),r=new Date(`${e}-${a}-01`).getTime()-864e5;return Number(this.time("d",r))},monthFirst(t=null){let e=this.time("y-m",t)+"-01";return this.time("y-m-d",e)},monthLast(t=null){let e=1*this.time("y",t),a=this.to2(1*this.time("m",t)+1),r=new Date(`${e}-${a}-01`).getTime()-864e5;return this.time("y-m-d",r)},preMonthToday(t=null){let e=Number(t.substr(0,4)),a=Number(t.substr(5,2)),r=Number(t.substr(8));return r>this.preMonthLenggth(`{y}-${a}-01`)&&(r=this.preMonthLenggth(`{y}-${a}-01`)),1==a?(e-=1,a=12):a-=1,`${e}-${a}-${r}`},nextMonthToday(t=null){let e=Number(t.substr(0,4)),a=Number(t.substr(5,2)),r=Number(t.substr(8));return r>this.nextMonthLenggth(`{y}-${a}-01`)&&(r=this.nextMonthLenggth(`{y}-${a}-01`)),12==a?(e+=1,a=1):a+=1,`${e}-${a}-${r}`},timeout(t){},timeRemaining(t,e){return e-=parseInt((new Date).getTime()/1e3),this.unixToString(t,e)},unixToString(t,e){let r=parseInt(e/60/60/24),l=parseInt((e-86400*r)/3600),n=parseInt((e-86400*r-3600*l)/60),i=e-86400*r-3600*l-60*n;return t=t.replace("d",a.to2(a.low(r))),t=t.replace("h",a.to2(a.low(l))),t=t.replace("i",a.to2(a.low(n))),t=t.replace("s",a.to2(a.low(i))),t},low(t){return t<0?0:t},parse(t){return new Date(t)}};e["Z"]=a}}]);
//# sourceMappingURL=594.efc19bc2.js.map