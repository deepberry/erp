"use strict";(self["webpackChunktitan2"]=self["webpackChunktitan2"]||[]).push([[368],{3701:function(l,a,t){t.r(a),t.d(a,{default:function(){return $}});var e=t(6252),i=t(3577),s=t(2106);const o=l=>((0,e.dD)("data-v-a48b1c4a"),l=l(),(0,e.Cn)(),l),r={class:"stockPut inner"},n={class:"box"},d={class:"head"},u=o((()=>(0,e._)("i",{class:"erp erpfanhui",style:{"font-size":"14px","margin-right":"5px",position:"relative",top:"-1px"}},null,-1))),c=(0,e.Uk)(" 返回 "),p=o((()=>(0,e._)("span",{style:{position:"relative",top:"2px","font-size":"15px"}},"历史种植详情",-1))),g={class:"main"},w={class:"wrap"},m={class:"wrap info"},A={class:"plant"},_=["src"],h=o((()=>(0,e._)("span",null,"面积：",-1))),v=o((()=>(0,e._)("span",null,"产量：",-1))),k=o((()=>(0,e._)("div",{class:"space"},null,-1))),b={class:"time"},f={class:"start"},y=o((()=>(0,e._)("p",null,"开始时间",-1))),C=o((()=>(0,e._)("div",{class:"line"},[(0,e._)("img",{src:s,alt:""})],-1))),D={class:"start"},B=o((()=>(0,e._)("p",null,"结束时间",-1))),z=o((()=>(0,e._)("div",{class:"t"},"历史种植数据：",-1))),x={class:"list"},I={class:"table"},T=o((()=>(0,e._)("div",{class:"tableTitle"},"（采收统计）",-1))),U=o((()=>(0,e._)("div",{class:"tableItem tableHead"},[(0,e._)("p",null,"采收时间"),(0,e._)("p",null,"重量")],-1))),R={class:"tableItems"},W={key:1,class:"tableItem tableAll"},P=o((()=>(0,e._)("p",null,"合计",-1))),q={class:"table"},V=o((()=>(0,e._)("div",{class:"tableTitle"},"（农资使用）",-1))),F=o((()=>(0,e._)("div",{class:"tableItem tableHead"},[(0,e._)("p",null,"类型"),(0,e._)("p",null,"用量")],-1))),H={class:"tableItems"},E=["onClick"],j={class:"table"},K=o((()=>(0,e._)("div",{class:"tableTitle"},"（工时统计）",-1))),N=o((()=>(0,e._)("div",{class:"tableItem tableHead"},[(0,e._)("p",null,"农事类型"),(0,e._)("p",null,"工时（小时）")],-1))),Q={class:"tableItems"},Y=["onClick"],L={key:1,class:"tableItem tableAll"},S=o((()=>(0,e._)("p",null,"合计",-1)));function G(l,a){const t=(0,e.up)("el-button"),s=(0,e.up)("el-empty"),o=(0,e.up)("PlantCropsDetailCDialog"),G=(0,e.Q2)("loading");return(0,e.wg)(),(0,e.iD)("div",r,[(0,e._)("div",n,[(0,e._)("div",d,[(0,e.Wm)(t,{link:"",type:"primary",onClick:l.back},{default:(0,e.w5)((()=>[u,c])),_:1},8,["onClick"]),p]),(0,e.wy)(((0,e.wg)(),(0,e.iD)("div",g,[(0,e._)("div",w,(0,i.zw)(l.detail.categoryTitle),1),(0,e._)("div",m,[(0,e._)("div",A,[(0,e._)("img",{src:l.detail.image,alt:""},null,8,_),(0,e._)("div",null,[(0,e._)("p",null,(0,i.zw)(l.detail.categoryTitle)+"-"+(0,i.zw)(l.detail.varietyTitle)+"-"+(0,i.zw)(l.detail.address),1),(0,e._)("p",null,[h,(0,e.Uk)((0,i.zw)(l.detail.area)+"亩",1)]),(0,e._)("p",null,[v,(0,e.Uk)((0,i.zw)(l.detail.weightAll)+"公斤",1)])])]),k,(0,e._)("div",b,[(0,e._)("div",f,[(0,e._)("p",null,(0,i.zw)(l.detail.plantTime),1),y]),C,(0,e._)("div",D,[(0,e._)("p",null,(0,i.zw)(l.detail.endTime),1),B])])]),z,(0,e._)("div",x,[(0,e._)("div",I,[T,U,(0,e._)("div",R,[0==l.reap.length?((0,e.wg)(),(0,e.j4)(s,{key:0,description:"暂无数据"})):(0,e.kq)("",!0),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(l.reap,((l,a)=>((0,e.wg)(),(0,e.iD)("div",{class:"tableItem",key:a},[(0,e._)("p",null,(0,i.zw)(l.workTime),1),(0,e._)("p",null,(0,i.zw)(l.weightAll||0),1)])))),128)),l.reap.length>0?((0,e.wg)(),(0,e.iD)("div",W,[P,(0,e._)("p",null,(0,i.zw)(l.reapCount),1)])):(0,e.kq)("",!0)])]),(0,e._)("div",q,[V,F,(0,e._)("div",H,[0==l.farmUseBos.length?((0,e.wg)(),(0,e.j4)(s,{key:0,description:"暂无数据"})):(0,e.kq)("",!0),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(l.farmUseBos,((a,t)=>((0,e.wg)(),(0,e.iD)("div",{class:"tableItem",key:t},[(0,e._)("p",null,(0,i.zw)(a.agricultural),1),(0,e._)("p",{style:{color:"#6397fd",cursor:"pointer","text-decoration":"underline"},onClick:t=>l.$store.state.power.agricultureMaterialsBtn?l.showDialogBox("农资使用统计",a.id):()=>{}},(0,i.zw)(a.agriculturalCount||0)+(0,i.zw)(a.agriculturalUnit),9,E)])))),128))])]),(0,e._)("div",j,[K,N,(0,e._)("div",Q,[0==l.farmWorkBos.length?((0,e.wg)(),(0,e.j4)(s,{key:0,description:"暂无数据"})):(0,e.kq)("",!0),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(l.farmWorkBos,((a,t)=>((0,e.wg)(),(0,e.iD)("div",{class:"tableItem",key:t},[(0,e._)("p",null,(0,i.zw)(a.agricultural),1),(0,e._)("p",{style:{color:"#6397fd",cursor:"pointer","text-decoration":"underline"},onClick:t=>l.$store.state.power.workingHoursBtn?l.showDialogBox("工时使用统计",a.id,a.agricultural):()=>{}},(0,i.zw)(a.agriculturalCount||0),9,Y)])))),128)),l.farmWorkBos.length>0?((0,e.wg)(),(0,e.iD)("div",L,[S,(0,e._)("p",null,(0,i.zw)(l.farmWorkBosCount),1)])):(0,e.kq)("",!0)])])])])),[[G,l.loading]])]),l.showDialog?((0,e.wg)(),(0,e.j4)(o,{key:0,id:l.dialogId,title:l.dialogTitle,title2:l.dialogTitle2,onClose:l.closeDialog},null,8,["id","title","title2","onClose"])):(0,e.kq)("",!0)])}var J=t(2637),M=(t(2335),{name:"stockRecord",data(){return{loading:!1,detail:{},reap:[],farmUseBos:[],farmWorkBos:[],showDialog:!1,dialogTitle:"",dialogTitle2:"",dialogId:""}},components:{PlantCropsDetailCDialog:J.Z},computed:{farmWorkBosCount(){let l=0;return this.farmWorkBos.map((a=>{l+=a.agriculturalCount||0})),l},reapCount(){let l=0;return this.reap.map((a=>{l+=a.weightAll||0})),l}},mounted(){let l=this,a=async function(){l.loading=!0,await l.getData(),await l.getReap(),await l.getStat(),l.loading=!1};a()},methods:{showDialogBox(l,a,t){this.dialogTitle=l,this.dialogTitle2=t,this.dialogId=a,console.log(t),this.showDialog=!0},closeDialog(){this.showDialog=!1},back(){this.$router.push({path:"/erp/plant/history",query:{id:this.$route.query.gardenId}})},getData(){return new Promise(((l,a)=>{this.ajax.post("/api/v1/adam/plants/getPlants",{id:this.$route.query.id}).then((a=>{this.detail=a.data,this.loading=!1,l()}))}))},getReap(){return new Promise(((l,a)=>{this.ajax.post("/api/v1/adam/farm/getFarmRecoveryByPlantsId",{plantsId:this.$route.query.id}).then((a=>{this.reap=a.data,l()}))}))},getStat(){return new Promise(((l,a)=>{this.ajax.post("/api/v1/adam/farm/searchfarmUseRecoveryByPlantsId",{endTime:"",id:this.$route.query.id,keyWord:"",startTime:""}).then((a=>{this.farmUseBos=a.data.farmUseBos,this.farmWorkBos=a.data.farmWorkBos,l()}))}))}}}),Z=t(8118);const O=(0,Z.Z)(M,[["render",G],["__scopeId","data-v-a48b1c4a"]]);var $=O},2106:function(l){l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAALCAYAAAA3FnCGAAAAAXNSR0IArs4c6QAAAZpJREFUSEvtlkFOwzAQRX+WHAEFibNwAZa9AwJE2RSxwt0iVCFA7WV6EOAAVGJTCYlVsQeNx07GidP0AM4msWdsz7z5Y6VCeXoEZqvNw+PF8bxrqAqrPoHZ8oscVebpMgVWYGXUIrAAh8osFLACax8sR3CAeb6ufUtWxA8ARulpOsARhTeP47yyxznvH31za9Real9LBPLj/nk27MdRsd06wH+zvwN4Lb/jnKUQu7e18fL+0ZfzkbGON56v8mti6rAgmJebei6w+MAQXAsnAy2bYA6WgqwS3VcEhpJCIHBcAolCohKn922gMdC2UFx0gSI+KTQBK+t1IceEwrKC8bBYYuOQMspKVNhWPw9Fwx9RYUcBHkZQkCgpVayHE8E4gRwV2YDJdEgDfrCbwjlU7RzRdKQNDwMggQ21rLRDkqDyFUUFFQW16P1i6+j9o71VVGzNoDLfKVpxujgp2KGrp1lP2FqLyettvS4X/J4LnggfBHe+uDr59Bd8+c8a+s/C+vdnN1ndn26jR4GVUcvdcvN29P0+NebsT5v/AfJO/di+Ui5TAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=368.395aa1dc.js.map